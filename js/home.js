$(document).ready(function(){var e={};e.baseUrl="localhost"===location.hostname?"http://localhost:8000/":"https://www.connorabdelnoor.com/",e.imagePath=e.baseUrl+"images/",e.dataPath=e.baseUrl+"data/",e.projectPath=e.baseUrl+"app/projects/",e.svg=e.baseUrl+"lib/svg/",e.buildImageHelper=function(t){t.image&&-1==t.image.indexOf("http")?t.image=e.imagePath+t.image:t.image=e.imagePath+"default.png"},e.NavItem=Backbone.Model,e.NavCollection=Backbone.Collection.extend({model:e.NavItem,url:e.dataPath+"nav.json"}),e.NavView=Backbone.View.extend({el:".navigation",template:_.template($(".item-navigation-template").html()),events:{"click .nav-item:not(.nav-name)":"onClick"},onClick:function(t){var o=$(t.target).data("path");if($("#content div:first").trigger("terminate"),"resume"==o)return new e.ResumeView;var i=new e.WorkCollection;return"posts"===o?i.filterPosts=!0:"projects"===o&&(i.filterProjects=!0),new e.WorkView({collection:i})},initialize:function(){var e=this;this.collection.fetch().then(function(){e.render()})},render:function(){var e=this;return this.collection.each(function(t){var o=t.toJSON(),i=e.template(o);e.$el.append(i)}),this}}),new e.NavView({collection:new e.NavCollection}),e.WorkItem=Backbone.Model.extend({defaults:{is_post:"true",name:"Default",date:"Begining of Time",tagline:"default tagline",short_description:"default",long_description:"default",image:"default.png",is_game:!1,github_url:"default",project_url:"default",project_without_url:!1}}),e.WorkCollection=Backbone.Collection.extend({model:e.WorkItem,url:e.dataPath+"work.json",filterWork:function(e){return _(this.filter(function(t){return e?"true"===t.get("is_post"):"true"!==t.get("is_post")}))}}),e.WorkView=Backbone.View.extend({tagName:"div",className:"work-collection",template:_.template($(".work-collection-template").html()),events:{"click .work-item":"onClick",terminate:"removeView"},removeView:function(){this.remove()},onClick:function(t){var o=$(t.target).closest(".work-item").data("id"),i=this.collection.get(o);this.remove(),"true"===i.get("is_post")?new e.PostLandingView({model:i}):new e.ItemLandingView({model:i})},initialize:function(){var e=this;e.$el.appendTo("#content"),this.collection.fetch().then(function(){e.render()})},render:function(){var t=this.getCollectionWithFilters(),o=this;return t.each(function(t){var i=t.toJSON();e.buildImageHelper(i),i.workClass="true"===i.is_post?"post":"project";var n=o.template(i);o.$el.append(n)}),this},getCollectionWithFilters:function(){return"undefined"!=typeof this.collection.filterProjects?this.collection.filterWork():"undefined"!=typeof this.collection.filterPosts?this.collection.filterWork(!0):this.collection}}),new e.WorkView({collection:new e.WorkCollection}),e.PostLandingView=Backbone.View.extend({tagName:"div",className:"post-landing",template:_.template($(".post-landing-template").html()),events:{"click .back-to-collection":"clickBackButton",terminate:"removeView"},removeView:function(){this.remove()},clickBackButton:function(t){this.remove(),new e.WorkView({collection:new e.WorkCollection})},initialize:function(){this.$el.appendTo("#content"),this.render()},render:function(){var e=this.model.toJSON(),t=this.template(e);this.$el.append(t)}}),e.ItemLandingView=Backbone.View.extend({tagName:"div",className:"item-landing",template:_.template($(".item-landing-template").html()),events:{"click .back-to-collection":"clickBackButton","click .load-project":"loadProject",terminate:"removeView"},removeView:function(){this.remove()},loadProject:function(t){t.preventDefault();var o=this.model.get("project_url"),i=e.projectPath+o;window.location.href=i},clickBackButton:function(t){this.remove(),new e.WorkView({collection:new e.WorkCollection})},initialize:function(){this.$el.appendTo("#content"),this.render()},render:function(){var t=this.model.toJSON();e.buildImageHelper(t),t.visit_text=t.is_game?"Play Game":"View App",t.load_project_class=t.project_without_url?"hidden":"";var o=this.template(t);this.$el.append(o)}}),e.ResumeModel=Backbone.Model.extend({url:e.dataPath+"resume.json"}),e.ResumeView=Backbone.View.extend({tagName:"div",className:"resume-container",model:new e.ResumeModel,template:_.template($(".resume-template").html()),events:{terminate:"removeView"},removeView:function(){this.remove()},initialize:function(){var e=this;this.$el.appendTo("#content"),this.model.fetch().then(function(){e.render()})},render:function(){var e=this.model.toJSON().resume,t=this.template(e);this.$el.append(t)}}),e.svgItem=Backbone.Model.extend({}),e.svgHelper=function(t){t.map(function(t){return e.svg+t+".svg"})},e.svgCollection=Backbone.Collection.extend({model:e.svgItem,svgItems:["http://localhost:8000/lib/svg/alert.svg","http://localhost:8000/lib/svg/arrow-down.svg"],test:function(){var e=this;this.svgItems.forEach(function(t){var o=new e.model;o.url=t,o.fetch()})}})});