// OPTIMIZE - document ready was so 2010. Figure out something better.
$(document).ready(function(){var e={};e.baseUrl="localhost"===location.hostname?"http://localhost:8000/":"http://www.connorabdelnoor.com/",e.imagePath=e.baseUrl+"images/",e.dataPath=e.baseUrl+"data/",e.projectPath=e.baseUrl+"app/projects/",e.svg=e.baseUrl+"lib/svg/",e.buildImageHelper=function(t){t.image&&t.image.indexOf("http")==-1?t.image=e.imagePath+t.image:t.image=e.imagePath+"default.png"},e.NavItem=Backbone.Model.extend({defaults:{icons:[]}}),e.NavCollection=Backbone.Collection.extend({model:e.NavItem,url:e.dataPath+"nav.json"}),e.NavView=Backbone.View.extend({el:".navigation",template:_.template($(".item-navigation-template").html()),events:{"click .nav-item:not(.nav-name)":"onClick"},onClick:function(t){var n=$(t.target).data("path");$("#content div:first").trigger("terminate"),"resume"==n?new e.ResumeView:new e.ProjectView({collection:new e.ProjectCollection})},initialize:function(){var e=this;this.collection.fetch().then(function(){e.render()})},render:function(){var e=this;return this.collection.each(function(t){var n=t.toJSON(),o=e.template(n);e.$el.append(o)}),this}}),new e.NavView({collection:new e.NavCollection}),e.ProjectItem=Backbone.Model.extend({defaults:{tagline:""}}),e.ProjectCollection=Backbone.Collection.extend({model:e.ProjectItem,url:e.dataPath+"projects.json"}),e.ProjectView=Backbone.View.extend({tagName:"div",className:"project-collection",template:_.template($(".project-collection-template").html()),events:{"click .project-item":"onClick",terminate:"removeView"},removeView:function(){this.remove()},onClick:function(t){var n=$(t.target).closest(".project-item").data("id"),o=this.collection.get(n);this.remove(),new e.ItemLandingView({model:o})},initialize:function(){var e=this;e.$el.appendTo("#content"),this.collection.fetch().then(function(){e.render()})},render:function(){var t=this;return this.collection.each(function(n){var o=n.toJSON();e.buildImageHelper(o),o.featured?o.featuredClass="featured":o.featuredClass="";var i=t.template(o);t.$el.append(i)}),this}}),new e.ProjectView({collection:new e.ProjectCollection}),e.ItemLandingView=Backbone.View.extend({tagName:"div",className:"item-landing",template:_.template($(".item-landing-template").html()),events:{"click .back-to-project-collection":"clickBackButton","click .load-project":"loadProject",terminate:"removeView"},removeView:function(){this.remove()},loadProject:function(t){t.preventDefault();var n=this.model.get("project_url"),o=e.projectPath+n;window.location.href=o},clickBackButton:function(t){this.remove(),new e.ProjectView({collection:new e.ProjectCollection})},initialize:function(){this.$el.appendTo("#content"),this.render()},render:function(){var t=this.model.toJSON();e.buildImageHelper(t),t.visit_text=t.is_game?"Play Game":"View App";var n=this.template(t);this.$el.append(n)}}),e.ResumeModel=Backbone.Model.extend({url:e.dataPath+"resume.json"}),e.ResumeView=Backbone.View.extend({tagName:"div",className:"resume-container",model:new e.ResumeModel,template:_.template($(".resume-template").html()),events:{terminate:"removeView"},removeView:function(){this.remove()},initialize:function(){var e=this;this.$el.appendTo("#content"),this.model.fetch().then(function(){e.render()})},render:function(){var e=this.model.toJSON().resume,t=this.template(e);this.$el.append(t)}}),e.svgItem=Backbone.Model.extend({}),e.svgHelper=function(t){t.map(function(t){return e.svg+t+".svg"})},e.svgCollection=Backbone.Collection.extend({model:e.svgItem,svgItems:["http://localhost:8000/lib/svg/alert.svg","http://localhost:8000/lib/svg/arrow-down.svg"],test:function(){var e=this;this.svgItems.forEach(function(t){var n=new e.model;n.url=t,n.fetch()})}})});